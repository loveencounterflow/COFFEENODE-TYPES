

############################################################################################################
$                         = exports ? here
self                      = ( fetch 'library/barista' ).foo __filename
log                       = self.log
_   = $._                 = {}
$.$ = $$                  = {}
#-----------------------------------------------------------------------------------------------------------


#-----------------------------------------------------------------------------------------------------------
$.validate_isa_jserror = ( x ) ->
  validate_argument_count_equals  1
  unless isa_jserror x then bye "expected a jserror object, got a #{type_of x}"

#-----------------------------------------------------------------------------------------------------------
$.as_text = ( me ) ->
  validate_argument_count_equals  1
  $.validate_isa_jserror          me
  return _.as_text me

#...........................................................................................................
_.as_text = ( me ) ->
  return me.stacktrace

